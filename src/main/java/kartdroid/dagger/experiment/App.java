/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package kartdroid.dagger.experiment;

import kartdroid.dagger.experiment.di.DaggerAppComponent;
import kartdroid.dagger.experiment.logging.Logger;
import kartdroid.dagger.experiment.network.NetworkClient;

import javax.inject.Inject;
import java.util.Objects;

public class App {
    private final Logger logger;
    private final NetworkClient networkClient;

    @Inject
    App(Logger logger, NetworkClient networkClient) {
        this.logger = logger;
        this.networkClient = networkClient;
    }

    public void displayGreeting() {
        logger.log("Hello world.");
    }

    public void pingSomeone() {
        networkClient.get("www.dummy.com", (v, e) -> {
            logger.log("value: " + (Objects.nonNull(v) ? new String(v) : "null"));
            logger.log("error: " + e);
        });
    }


    public static void main(String[] args) {
        App myApp = DaggerAppComponent.create().provideApp();
        myApp.displayGreeting();
        myApp.pingSomeone();
    }
}
